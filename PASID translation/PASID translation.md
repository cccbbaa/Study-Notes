ENQCMD 和 ENQCMDS 指令各自执行一个包含 20 位 PASID 值（位 19:0）的 64 字节入队存储操作。对于 ENQCMD，PASID 通常是 IA32_PASID\[19:0\] 的值，而对于 ENQCMDS，PASID 通常从内存中读取。

如果“PASID 翻译” VM 执行控制为 1，则前述段落中标识的 PASID 值被视为客户机 PASID。PASID 翻译将该客户机 PASID 转换为 20 位的主机 PASID。翻译完成后，入队存储操作将使用主机 PASID 替代客户机 PASID。

PASID 翻译通过由 VMM 配置的两层数据结构（PASID 翻译层次结构）实现。客户机 PASID 范围为 00000H 到 7FFFFH 的 PASID 通过低层 PASID 翻译层次结构进行翻译，而客户机 PASID 范围为 80000H 到 FFFFFH 的 PASID 通过高层 PASID 翻译层次结构进行翻译。

每个 PASID 翻译层次结构的根目录是一个 4-KByte 的 PASID 目录。低层 PASID 目录位于低层 PASID 目录地址，高层 PASID 目录位于高层 PASID 目录地址（这些物理地址是 VMCS 中的 VM 执行控制字段）。PASID 目录由 512 个 8 字节的条目组成，每个条目格式如下：

- 第 0 位是该条目的有效位。只有当该位为 1 时，该条目才被使用。
- 第 1 至 11 位保留，必须为 0。
- 第 12 位到 M-1 位指定 PASID 表的 4-KByte 对齐地址（M 是处理器物理地址宽度）。
- 第 63 至 M 位保留，必须为 0。

PASID 翻译层次结构还包括最多 512 个 4-KByte 的 PASID 表；这些表由 PASID 目录条目引用。每个 PASID 表由 1024 个 4 字节的条目组成，每个条目格式如下：

- 第 0 至 19 位为条目指定的主机 PASID。
- 第 20 至 30 位保留，必须为 0。
- 第 31 位是该条目的有效位。只有当该位为 1 时，该条目才被使用。

当启用 PASID 翻译时，指令确定的客户机 PASID 通过以下过程转换为主机 PASID：

- 如果客户机 PASID 的第 19 位为 0，则使用低层 PASID 目录；否则使用高层 PASID 目录。
- 客户机 PASID 的第 10 至 18 位选择 PASID 目录中的一个条目。如果条目的有效位为 0 或任何保留位被设置，则发生 VM 退出。否则，条目的第 0 位到 M 位（第 0 位被清除）包含 PASID 表的物理地址。
- 客户机 PASID 的第 0 至 9 位选择 PASID 表中的一个条目。如果条目的有效位为 0 或任何保留位被设置，则发生 VM 退出。否则，条目的第 0 至 19 位为主机 PASID。